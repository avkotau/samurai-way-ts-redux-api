"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[717,814],{7717:function(e,s,t){t.r(s),t.d(s,{default:function(){return M}});var a=t(1413),r=t(2791),n={messagesOnline:"Dialogues_messagesOnline__UEDjx",containerDialoguesMessages:"Dialogues_containerDialoguesMessages__ds8BC",dialogues:"Dialogues_dialogues__LsDSu",dialogue:"Dialogues_dialogue__PbkwN",message:"Dialogues_message__Aw8s3",active:"Dialogues_active__VS9TL",contact:"Dialogues_contact__RGDp0",contactInfo:"Dialogues_contactInfo__cYykX",messagesContainer:"Dialogues_messagesContainer__3mk7z",messages:"Dialogues_messages__+kCZx",myMessage:"Dialogues_myMessage__RxwGC"},i={contactPart:"MessagesFriends_contactPart__ALgru",contact:"MessagesFriends_contact__V0GCW",avatar:"MessagesFriends_avatar__lwglF",contactInfo:"MessagesFriends_contactInfo__G1lFv",message:"MessagesFriends_message__JJww1"},o="stylesForScroll_customScrollbar__oO5vd",l=t(119),c=t(184),u=function(e){var s=e.dialoguesData,t=e.messagesData;return(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"Messages"}),(0,c.jsx)("div",{className:"".concat(i.contactPart," ").concat(o),children:s.map((function(e,s){return(0,c.jsxs)("div",{className:i.contact,children:[(0,c.jsx)("div",{className:i.avatar,children:(0,c.jsx)("img",{src:l,alt:e.name})}),(0,c.jsxs)("div",{className:i.contactInfo,children:[(0,c.jsx)("div",{className:i.name,children:(0,c.jsx)("a",{className:"",href:"#",children:e.name})}),(0,c.jsx)("div",{className:i.message,children:t[s].message})]})]})}))})]})},d=function(e){var s=e.dialoguesData,t=e.messagesData;return(0,c.jsx)("div",{className:n.dialogues,children:(0,c.jsx)(u,{dialoguesData:s,messagesData:t})})},h=t(3720),m=t(4193),f=t(3719),p="MessageForm_messageForm__kEXhb",g=(0,m.BS)(200);var x=function(e){return(0,c.jsx)(h.l0,{onSubmit:function(s,t){e.onSubmit(s),setTimeout(t.reset)},render:function(e){var s=e.handleSubmit;return(0,c.jsxs)("form",{onSubmit:s,className:p,children:[(0,c.jsx)(h.gN,{component:f.N,name:"textarea",placeholder:"Enter your message",validate:(0,m.A3)(g)}),(0,c.jsx)("button",{type:"submit",children:"Add message"})]})}})},j=t(4513),v=t(4814),_=function(e){var s=e.messagesData,t=e.addMessage,a=e.profile,i=(0,r.useRef)(null);(0,r.useEffect)((function(){!function(){var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[s]),(0,r.useEffect)((function(){(0,v.refreshProfile)(e)}),[]);var u=a.photos.large;return(0,c.jsxs)("div",{className:n.messagesOnline,children:[(0,c.jsxs)("div",{className:"".concat(n.messagesContainer," ").concat(o),children:[(0,c.jsxs)("div",{className:n.contact,children:[(0,c.jsx)("div",{className:n.avatar,children:(0,c.jsx)("img",{src:l,alt:"Linda Johnson"})}),(0,c.jsxs)("div",{className:n.contactInfo,children:[(0,c.jsx)("div",{className:n.name,children:"James Smith"}),(0,c.jsx)("div",{className:n.online,children:"Online"})]})]}),(0,c.jsxs)("div",{className:n.messages,children:[(0,c.jsxs)("div",{className:" ".concat(n.message),children:[(0,c.jsx)("div",{className:n.avatar,children:(0,c.jsx)("img",{src:u||j,alt:"logo"})}),(0,c.jsx)("div",{className:n.text,children:s[0].message})]},s[0].id),(0,c.jsxs)("div",{className:" ".concat(n.message),children:[(0,c.jsx)("div",{className:n.avatar,children:(0,c.jsx)("img",{src:u||j,alt:"logo"})}),(0,c.jsx)("div",{className:n.text,children:"Did you like it there?"})]},s[0].id),s.slice(8).map((function(e){return(0,c.jsxs)("div",{className:" ".concat(n.message),children:[(0,c.jsx)("div",{className:n.avatar,children:(0,c.jsx)("img",{src:u||j,alt:"logo"})}),(0,c.jsx)("div",{className:n.text,children:e.message})]},e.id)}))]}),(0,c.jsx)("div",{ref:i})]}),(0,c.jsx)(x,{onSubmit:function(e){t(e.textarea)}})]})},b=t(364),N=t(9271),y=t(7781),S=t(5555),D=(0,y.qC)((0,b.$j)((function(e){return{profile:e.profilePage.profile,authorizedUserId:e.auth.id}}),{fetchUserProfile:S.YI,getUserStatus:S.Tq}),N.EN)((function(e){var s=e.dialoguesData,t=e.messagesData,r=e.addMessage,i=e.profile;return(0,c.jsxs)("div",{className:n.containerDialoguesMessages,children:[(0,c.jsx)(d,{dialoguesData:s,messagesData:t}),(0,c.jsx)(_,(0,a.Z)((0,a.Z)({},e),{},{messagesData:t,addMessage:r,profile:i}))]})})),P=t(1400),k=t(6477),M=(0,y.qC)(k.D,(0,b.$j)((function(e){return{dialoguesData:e.dialoguesPage.dialoguesData,messagesData:e.dialoguesPage.messagesData}}),(function(e){return{addMessage:function(s){e((0,P.k)(s))}}})))(D)},4814:function(e,s,t){t.r(s),t.d(s,{default:function(){return $},refreshProfile:function(){return B}});var a=t(1413),r=t(5671),n=t(3144),i=t(136),o=t(5716),l=t(2791),c={},u=t(364),d=t(5555),h="MyPosts_myPostsContainer__+FEe4",m="MyPosts_title__8aP6T",f="MyPosts_posts__yS2tl",p={post:"Post_post__NPNF1"},g=t(4513),x=t(184),j=function(e){(0,i.Z)(t,e);var s=(0,o.Z)(t);function t(){return(0,r.Z)(this,t),s.apply(this,arguments)}return(0,n.Z)(t,[{key:"render",value:function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:p.post,children:[(0,x.jsx)("img",{src:this.props.photo||g,alt:"My photo",className:p.photo}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:this.props.published}),(0,x.jsx)("div",{children:this.props.message}),(0,x.jsxs)("span",{children:[(0,x.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"heart",className:"svg-inline--fa fa-heart fa-lg Post_icon__tP710",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,x.jsx)("path",{fill:"currentColor",d:"M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z"})}),this.props.like]})]})]})})}}]),t}(l.Component),v=j,_=t(3720),b=t(3719),N=t(4193),y=(0,N.BS)(100),S=function(e){return(0,x.jsx)(_.l0,{onSubmit:function(s,t){e.onSubmit(s),t.reset()},render:function(e){var s=e.handleSubmit,t=e.valid,a=e.values;return(0,x.jsxs)("form",{onSubmit:s,children:[(0,x.jsx)(_.gN,{name:"message",type:"textarea",placeholder:"Enter your message",validate:(0,N.A3)(y),component:b.N}),(0,x.jsx)("button",{type:"submit",disabled:!t||!a.message,children:"Add post"})]})}})},D=(0,l.memo)((function(e){return(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("h3",{className:m,children:"My posts"}),(0,x.jsx)("div",{children:(0,x.jsx)(S,{onSubmit:function(s){var t=new Date,a="\n        ".concat(t.getDate().toString().padStart(2,"0"),".").concat((t.getMonth()+1).toString().padStart(2,"0"),".").concat(t.getFullYear(),", ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"),":").concat(t.getSeconds().toString().padStart(2,"0"));e.addPost({message:s.message,published:a})}})}),(0,x.jsx)("div",{className:f,children:e.postsData.map((function(s){return(0,x.jsx)(v,{message:s.message,like:s.like,photo:e.profile.photos.small,published:s.published},s.id)}))})]})})),P=(0,u.$j)((function(e){return{postsData:e.profilePage.postsData,profile:e.profilePage.profile,status:e.profilePage.status,statusError:e.profilePage.statusError}}),(function(e){return{addPost:function(s){e((0,d.Pi)(s))}}}))(D),k=t(5861);var M=t(181);function C(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,n=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(n.push(a.value),!s||n.length!==s);i=!0);}catch(l){o=!0,r=l}finally{try{i||null==t.return||t.return()}finally{if(o)throw r}}return n}}(e,s)||(0,M.Z)(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=t(7757),E=t.n(w),F="ProfileInfo_description__tOx+Q",I="ProfileInfo_online__1mSI7",A=t(4909),Z="ProfileStatusWithHooks_statusText__rIjyG",O="ProfileStatusWithHooks_error__W9nzO",U=function(e){var s=C((0,l.useState)(!1),2),t=s[0],a=s[1],r=C((0,l.useState)(e.status),2),n=r[0],i=r[1];(0,l.useEffect)((function(){i(e.status)}),[e.status]);return t?(0,x.jsx)("div",{children:(0,x.jsx)("input",{style:{padding:10},value:n,autoFocus:!0,onBlur:function(){a(!1),e.updateUserStatus(n)},onChange:function(e){i(e.currentTarget.value)}})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{onDoubleClick:function(){a(!0)},className:Z,children:n?n.trim():"empty status"}),(0,x.jsx)("div",{className:O,children:e.statusError||""})]})},L=function(e){var s=function(e){var s=e.contactTitle,t=e.contactValue;return(0,x.jsxs)("li",{children:[s,": ",t]})};return(0,x.jsxs)(x.Fragment,{children:[e.isOwner&&(0,x.jsx)("button",{onClick:e.goToEditMode,children:"Edit Data"}),(0,x.jsxs)("dl",{children:[(0,x.jsx)("dt",{children:"Full name:"}),(0,x.jsx)("dd",{children:e.profile.fullName}),(0,x.jsx)("dt",{children:"Looking for a job:"}),(0,x.jsx)("dd",{children:e.profile.lookingForAJob?"Yes":"No"}),(0,x.jsx)("dt",{children:"My professional skills:"}),(0,x.jsx)("dd",{children:e.profile.lookingForAJobDescription}),(0,x.jsx)("dt",{children:"About me:"}),(0,x.jsx)("dd",{children:e.profile.aboutMe})]}),(0,x.jsx)("h3",{children:"Contact:"}),(0,x.jsx)("ul",{children:Object.keys(e.profile.contacts).map((function(t,a){var r=t;return(0,x.jsx)(s,{contactTitle:t,contactValue:e.profile.contacts[r]||"-"},a)}))})]})},T=function(e){var s=e.onSubmit;return(0,x.jsx)(_.l0,{onSubmit:s,initialValues:e.initialValues,render:function(s){var t=s.handleSubmit,a=s.submitErrors;return(0,x.jsxs)("form",{onSubmit:t,children:[(0,x.jsx)("button",{style:{position:"relative",top:"-35px",right:"-145px"},children:"save"}),(0,x.jsx)("div",{style:{color:"red",minHeight:"30px"},children:null===a||void 0===a?void 0:a.submitErrors}),(0,x.jsxs)("dl",{children:[(0,x.jsx)("dt",{children:"Full name:"}),(0,x.jsx)("dd",{children:(0,x.jsx)(_.gN,{type:"text",name:"fullName",placeholder:"Full Name",component:b.N})}),(0,x.jsx)("dt",{children:"Looking for a job:"}),(0,x.jsx)("dd",{children:(0,x.jsx)(_.gN,{type:"checkbox",name:"lookingForAJob",placeholder:"Looking for a job",component:b.N})}),(0,x.jsx)("dt",{children:"My professional skills:"}),(0,x.jsx)("dd",{children:(0,x.jsx)(_.gN,{type:"textarea",name:"lookingForAJobDescription",placeholder:"My professional skills",component:b.N})}),(0,x.jsx)("dt",{children:"About me:"}),(0,x.jsx)("dd",{children:(0,x.jsx)(_.gN,{type:"textarea",name:"AboutMe",placeholder:"About me",component:b.N})})]}),(0,x.jsx)("h3",{children:"Contacts:"}),(0,x.jsx)("ul",{children:Object.keys(e.profile.contacts).map((function(e,s){var t=e;return(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:t}),(0,x.jsx)(_.gN,{type:"text",name:"contacts."+t,placeholder:t,component:b.N})]},s)}))})]})}})},V=function(e){var s=C((0,l.useState)(!1),2),t=s[0],a=s[1];if(!e.profile)return(0,x.jsx)(A.Z,{});var r=function(){var s=(0,k.Z)(E().mark((function s(t){var r;return E().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.saveProfile(t);case 2:if(!(r=s.sent)){s.next=5;break}return s.abrupt("return",r);case 5:a(!1);case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:F,children:[(0,x.jsx)("img",{src:e.profile.photos.large||g,alt:"My photo"}),(0,x.jsx)("div",{className:I}),(0,x.jsx)(U,{status:e.status,updateUserStatus:e.updateUserStatus,statusError:e.statusError}),e.isOwner&&(0,x.jsxs)("button",{children:[(0,x.jsx)("input",{type:"file",id:"fileInput",style:{display:"none"},onChange:function(s){var t;null!==(t=s.target.files)&&void 0!==t&&t.length&&e.savePhoto(s.target.files[0])}}),(0,x.jsx)("label",{htmlFor:"fileInput",children:"Edit Photo"})]}),t?(0,x.jsx)(T,{initialValues:e.profile,onSubmit:r,profile:e.profile}):(0,x.jsx)(L,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){return a(!0)}})]})},J=function(e){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(V,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,statusError:e.statusError}),(0,x.jsx)(P,{})]})},z=t(9271),G=t(7781),q=t(6477),B=function(e){var s=e.match.params.userId;s||(s=e.authorizedUserId);var t=parseInt(s,10);e.fetchUserProfile(t),e.getUserStatus(t)},Y=function(e){(0,i.Z)(t,e);var s=(0,o.Z)(t);function t(){return(0,r.Z)(this,t),s.apply(this,arguments)}return(0,n.Z)(t,[{key:"componentDidMount",value:function(){B(this.props)}},{key:"componentDidUpdate",value:function(e,s,t){e.match.params.userId!==this.props.match.params.userId&&B(this.props)}},{key:"render",value:function(){return(0,x.jsx)("div",{className:c.content,children:(0,x.jsx)(J,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,statusError:this.props.statusError}))})}}]),t}(l.Component),$=(0,G.qC)(q.D,(0,u.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth,statusError:e.profilePage.statusError}}),{fetchUserProfile:d.YI,getUserStatus:d.Tq,updateUserStatus:d.OL,savePhoto:d.Ju,saveProfile:d.Ii}),z.EN)(Y)},6477:function(e,s,t){t.d(s,{D:function(){return u}});var a=t(1413),r=t(5987),n=(t(2791),t(364)),i=t(9271),o=t(184),l=["isAuth"],c=function(e){return{isAuth:e.auth.isAuth}};function u(e){return(0,n.$j)(c)((function(s){var t=s.isAuth,n=(0,r.Z)(s,l);return t?(0,o.jsx)(e,(0,a.Z)({},n)):(0,o.jsx)(i.l_,{to:"login"})}))}},119:function(e,s,t){e.exports=t.p+"static/media/avaGirl.6bbf4e1b4b912e2569f0.png"}}]);
//# sourceMappingURL=717.cedea64f.chunk.js.map